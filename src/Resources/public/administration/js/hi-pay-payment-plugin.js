!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=(window.__sw__.assetPath + '/bundles/hipaypaymentplugin/'),n(n.s="/uiO")}({"++Wo":function(e,t,n){var a=n("e4x0");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("P8hj").default)("5de81e9c",a,!0,{})},"/uiO":function(e,t,n){"use strict";n.r(t);n("8Wr2"),n("vcqm");var a=n("AknG");n("e9A5");Shopware.Component.register("hipay-help-bloc",{template:'<div class="hipay-help">\n  <div class="hipay-help-bloc">\n    <div class="hipay-help-bloc-item">\n      <sw-icon name="regular-file"></sw-icon>\n      <a href="https://support.hipay.com"\n        class="sw-button sw-button--primary"\n        target="_blank"\n        rel="noopener"\n        :title="$tc(\'hipay.config.help.manual\')">\n        {{ $tc(\'hipay.config.help.manual\') }}\n      </a>\n    </div>\n\n    <div class="hipay-help-bloc-item">\n      <sw-icon name="regular-code"></sw-icon>\n      <a href="https://github.com/hipay/hipay-enterprise-shopware-6"\n        class="sw-button sw-button--primary"\n        rel="noopener"\n        target="_blank"\n        :title="$tc(\'hipay.config.help.manual\')">\n        {{ $tc(\'hipay.config.help.github\') }}\n      </a>\n    </div>\n\n    <div class="hipay-help-bloc-item">\n      <sw-icon name="regular-cloud-upload"></sw-icon>\n      <p class="version-text">\n        {{ $tc(\'hipay.config.help.version\') }} : {{ version }}\n      </p>\n    </div>\n  </div>\n</div>\n',data:function(){return{version:a.version}}});Shopware.Component.register("hipay-help-info",{template:'<sw-alert>\n  <div v-html="$tc(text)"></div>\n</sw-alert>\n',data:function(){return{text:this.$parent.bind.value}}});var i=Shopware,r=i.Component,o=i.Mixin;r.register("hipay-check-server-access",{template:'<sw-button-process style="margin-top: 20px"\n  class="sw-button--primary"\n  :disabled="isLoading"\n  :isLoading="isLoading"\n  :processSuccess="success"\n  @process-finish="completeSucess"\n  @click="validateConfig">\n  {{ $tc(\'hipay.config.checkAccess.button\') }}\n</sw-button-process>\n',inject:["hipayService"],mixins:[o.getByName("notification")],props:{value:{required:!1}},data:function(){return{isLoading:!1,success:!1}},methods:{completeSucess:function(){this.sucess=!1},validateConfig:function(){var e=this;this.isLoading=!0;var t=this.$tc("hipay.config.checkAccess.title");this.hipayService.validateConfig(this.getConfig()).then((function(n){if(!n.success)throw new Error(n.message);e.createNotificationSuccess({title:t,message:e.$tc("hipay.config.checkAccess.success")}),e.success=!0})).catch((function(n){e.createNotificationError({title:t,message:n.message||e.$tc("hipay.config.checkAccess.failure")})})).finally((function(){return e.isLoading=!1}))},getConfig:function(){for(var e=this.$parent;!e.hasOwnProperty("actualConfigData");)e=e.$parent;var t=e.currentSalesChannelId,n=e.actualConfigData;return Object.assign({},n.null,n[t],{environment:this.$parent.bind.env,isApplePay:"true"===this.$parent.bind.isApplePay})}}});var s=Shopware,l=s.Component,u=s.Mixin;l.register("hipay-download-logs",{template:'<sw-button-process style="margin-top: 20px"\n  class="sw-button--primary"\n  :disabled="isLoading"\n  :isLoading="isLoading"\n  :processSuccess="success"\n  @process-finish="completeSucess"\n  @click="downloadLogs">\n  {{ $tc(\'hipay.config.logs.download\') }}\n</sw-button-process>\n',inject:["hipayService"],mixins:[u.getByName("notification")],props:{value:{required:!1}},data:function(){return{isLoading:!1,success:!1}},methods:{completeSucess:function(){this.sucess=!1},downloadLogs:function(){var e=this;this.isLoading=!0;var t=this.$tc("hipay.config.logs.title");this.hipayService.getLogsArrayBuffer().then((function(e){var t=new Blob([e.data],{type:"application/octet-stream"}),n=window.URL.createObjectURL(t),a=document.createElement("a");a.href=n;var i=e.headers["content-disposition"].split('"');a.download=i[1],document.body.appendChild(a),a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),window.URL.revokeObjectURL(n),document.body.removeChild(a)})).catch((function(n){e.createNotificationError({title:t,message:n.message||e.$tc("hipay.config.logs.failure")})})).finally((function(){return e.isLoading=!1}))}}});Shopware.Component.register("hipay-settings-cards-selector",{template:'<sw-card position-identifier="sw-settings-payment-detail-content"\n  :title="$tc(\'hipay.settings.creditcard.title\')"\n  :is-loading="isLoading">\n  <sw-multi-select :label="$tc(\'hipay.settings.creditcard.choice\')"\n    :options="availableCards"\n    :value="paymentMethod.customFields?.cards || []"\n    @change="updateCardsValue"></sw-multi-select>\n</sw-card>\n',props:{isLoading:{type:Boolean,required:!0},paymentMethod:{type:Object,required:!0}},data:function(){return{availableCards:[{label:"Carte Bancaire",value:"cb"},{label:"VISA",value:"visa"},{label:"MasterCard",value:"mastercard"},{label:"Amercian Express",value:"american-express"},{label:"Bancontact / Mister Cash",value:"bcmc"},{label:"Maestro",value:"maestro"}]}},methods:{updateCardsValue:function(e){null===this.paymentMethod.customFields?this.paymentMethod.customFields={cards:e}:this.paymentMethod.customFields.cards=e}}});function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==c(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Shopware.Component.register("hipay-settings-multibanco",{template:'<sw-card position-identifier="sw-settings-payment-detail-content"\n  :title="$tc(\'hipay.settings.multibanco.title\')"\n  :is-loading="isLoading">\n   <sw-field\n        type="select"\n        :value="paymentMethod.customFields?.expiration_limit || \'3\'"\n        @change="updateLimitValue"\n    >\n      <option\n          v-for="limit in availableLimits"\n          :value="limit.value"\n          :selected="paymentMethod.customFields?.expiration_limit === limit.value"\n      >\n          {{ limit.label }}\n      </option>\n    </sw-field>\n</sw-card>\n',props:{isLoading:{type:Boolean,required:!0},paymentMethod:{type:Object,required:!0}},data:function(){return{availableLimits:[{label:"3 ".concat(this.$tc("hipay.config.days")),value:"3"},{label:"30 ".concat(this.$tc("hipay.config.days")),value:"30"},{label:"90 ".concat(this.$tc("hipay.config.days")),value:"90"}]}},methods:{updateLimitValue:function(e){null===this.paymentMethod.customFields?this.paymentMethod.customFields=p(p({},this.paymentMethod.customFields),{},{expiration_limit:e}):this.paymentMethod.customFields.expiration_limit=e}}});function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==f(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Shopware.Component.register("hipay-settings-applepay",{template:'<sw-card position-identifier="sw-settings-payment-detail-content"\n  :title="$tc(\'hipay.settings.applepay.title\')"\n  :is-loading="isLoading">\n\n  <sw-text-field :label="$tc(\'hipay.settings.applepay.merchantName\')"\n          :value="paymentMethod.customFields?.merchantName"\n          :disabled="false"\n          @change="updateMerchantName">\n  </sw-text-field>\n\n  <sw-select-field :label="$tc(\'hipay.settings.applepay.buttonType.title\')"\n    :value="paymentMethod.customFields?.buttonType || \'default\'"\n    @change="updateButtonType">\n        <option\n            v-for="buttonType in buttonTypes"\n            :key="buttonType.value"\n            :value="buttonType.value"\n        >\n            {{ buttonType.label }}\n        </option>\n  </sw-select-field>\n\n  <sw-select-field :label="$tc(\'hipay.settings.applepay.buttonStyle.title\')"\n    :value="paymentMethod.customFields?.buttonStyle || \'black\'"\n    @change="updateButtonStyle">\n        <option\n            v-for="buttonStyle in buttonStyles"\n            :key="buttonStyle.value"\n            :value="buttonStyle.value"\n        >\n            {{ buttonStyle.label }}\n        </option>\n  </sw-select-field>\n\n  <sw-text-field :label="$tc(\'hipay.settings.applepay.merchantId\')"\n          :value="paymentMethod.customFields?.merchantId"\n          :disabled="false"\n          @change="updateMerchantId">\n  </sw-text-field>\n</sw-card>\n',props:{isLoading:{type:Boolean,required:!0},paymentMethod:{type:Object,required:!0}},data:function(){return{buttonTypes:[{label:this.$tc("hipay.settings.applepay.buttonType.default"),value:"default"},{label:this.$tc("hipay.settings.applepay.buttonType.buy"),value:"buy"},{label:this.$tc("hipay.settings.applepay.buttonType.setup"),value:"set-up"},{label:this.$tc("hipay.settings.applepay.buttonType.donate"),value:"donate"},{label:this.$tc("hipay.settings.applepay.buttonType.checkout"),value:"check-out"},{label:this.$tc("hipay.settings.applepay.buttonType.processing"),value:"processing"},{label:this.$tc("hipay.settings.applepay.buttonType.book"),value:"book"},{label:this.$tc("hipay.settings.applepay.buttonType.subscribe"),value:"subscribe"}],buttonStyles:[{label:this.$tc("hipay.settings.applepay.buttonStyle.black"),value:"black"},{label:this.$tc("hipay.settings.applepay.buttonStyle.white"),value:"white"},{label:this.$tc("hipay.settings.applepay.buttonStyle.whiteOutline"),value:"white-outline"}]}},methods:{updateMerchantName:function(e){null===this.paymentMethod.customFields?this.paymentMethod.customFields=y(y({},this.paymentMethod.customFields),{},{merchantName:e}):this.paymentMethod.customFields.merchantName=e},updateButtonType:function(e){null===this.paymentMethod.customFields?this.paymentMethod.customFields=y(y({},this.paymentMethod.customFields),{},{buttonType:e}):this.paymentMethod.customFields.buttonType=e},updateButtonStyle:function(e){null===this.paymentMethod.customFields?this.paymentMethod.customFields=y(y({},this.paymentMethod.customFields),{},{buttonStyle:e}):this.paymentMethod.customFields.buttonStyle=e},updateMerchantId:function(e){null===this.paymentMethod.customFields?this.paymentMethod.customFields=y(y({},this.paymentMethod.customFields),{},{merchantId:e}):this.paymentMethod.customFields.merchantId=e}}});function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==g(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Shopware.Component.register("hipay-settings-paypal",{template:'<sw-card position-identifier="sw-settings-payment-detail-content"\n  :title="$tc(\'hipay.settings.paypal.title\')"\n  :is-loading="isLoading">\n\n    <sw-label variant="info" size="default" appearance="default" :ghost="true" :caps="false" :dismissable="true">\n       {{ $tc(\'hipay.settings.paypal.info\')}}\n    </sw-label>\n\n    <div style="margin-bottom:16px"></div>\n\n    <sw-text-field :label="$tc(\'hipay.settings.paypal.merchantPayPalId\')"\n            :value="paymentMethod.customFields?.merchantPayPalId"\n            :disabled="false"\n            @change="updateMerchantPayPalId"\n            @input="updatePayPalStatus">\n    </sw-text-field>\n\n    <div style="margin-bottom:16px"></div>\n\n    <sw-select-field :label="$tc(\'hipay.settings.paypal.color.title\')"\n        :value="paymentMethod.customFields?.color || \'gold\'"\n        :disabled="!isPayPalV2"\n        @change="updateColor">\n            <option\n                v-for="color in colors"\n                :key="color.value"\n                :value="color.value"\n            >\n                {{ color.label }}\n            </option>\n    </sw-select-field>\n\n    <sw-select-field :label="$tc(\'hipay.settings.paypal.shape.title\')"\n        :value="paymentMethod.customFields?.shape || \'pill\'"\n        :disabled="!isPayPalV2"\n        @change="updateShape">\n            <option\n                v-for="shape in shapes"\n                :key="shape.value"\n                :value="shape.value"\n            >\n                {{ shape.label }}\n            </option>\n    </sw-select-field>\n\n    <sw-select-field :label="$tc(\'hipay.settings.paypal.label.title\')"\n        :value="paymentMethod.customFields?.label || \'paypal\'"\n        :disabled="!isPayPalV2"\n        @change="updateLabel">\n            <option\n                v-for="label in labels"\n                :key="label.value"\n                :value="label.value"\n            >\n                {{ label.label }}\n            </option>\n    </sw-select-field>\n\n    <sw-number-field numberType="int"\n        :disabled="!isPayPalV2"\n        :label="$tc(\'hipay.settings.paypal.height.title\')"\n        :step="1"\n        :min="25"\n        :max="55"\n        :value="40"\n        :digits="2"\n        :fillDigits="false"\n        :allowEmpty="true">\n    </sw-number-field>\n</sw-card>\n',props:{isLoading:{type:Boolean,required:!0},paymentMethod:{type:Object,required:!0}},data:function(){return{isPayPalV2:""!==this.paymentMethod.customFields.merchantPayPalId,colors:[{label:this.$tc("hipay.settings.paypal.color.gold"),value:"gold"},{label:this.$tc("hipay.settings.paypal.color.blue"),value:"blue"},{label:this.$tc("hipay.settings.paypal.color.black"),value:"black"},{label:this.$tc("hipay.settings.paypal.color.silver"),value:"silver"},{label:this.$tc("hipay.settings.paypal.color.white"),value:"white"}],shapes:[{label:this.$tc("hipay.settings.paypal.shape.pill"),value:"pill"},{label:this.$tc("hipay.settings.paypal.shape.rect"),value:"rect"}],labels:[{label:this.$tc("hipay.settings.paypal.label.paypal"),value:"paypal"},{label:this.$tc("hipay.settings.paypal.label.pay"),value:"pay"},{label:this.$tc("hipay.settings.paypal.label.subscribe"),value:"subscribe"},{label:this.$tc("hipay.settings.paypal.label.checkout"),value:"checkout"},{label:this.$tc("hipay.settings.paypal.label.buynow"),value:"buynow"}]}},methods:{updatePayPalStatus:function(e){this.isPayPalV2=""!==e,this.updateMerchantPayPalId(e)},updateMerchantPayPalId:function(e){console.log("newValue2: ",e),null===this.paymentMethod.customFields?this.paymentMethod.customFields=w(w({},this.paymentMethod.customFields),{},{merchantPayPalId:e}):this.paymentMethod.customFields.merchantPayPalId=e},updateColor:function(e){null===this.paymentMethod.customFields?this.paymentMethod.customFields=w(w({},this.paymentMethod.customFields),{},{color:e}):this.paymentMethod.customFields.color=e},updateShape:function(e){null===this.paymentMethod.customFields?this.paymentMethod.customFields=w(w({},this.paymentMethod.customFields),{},{shape:e}):this.paymentMethod.customFields.shape=e},updateLabel:function(e){null===this.paymentMethod.customFields?this.paymentMethod.customFields=w(w({},this.paymentMethod.customFields),{},{label:e}):this.paymentMethod.customFields.label=e},updateHeight:function(e){null===this.paymentMethod.customFields?this.paymentMethod.customFields=w(w({},this.paymentMethod.customFields),{},{height:e}):this.paymentMethod.customFields.height=e}}});n("TpBo");Shopware.Component.override("sw-data-grid",{template:'{% block sw_data_grid_bulk %}\n  <div v-if="showSelection">\n    {% parent %}\n  </div>\n{% endblock %}\n\n{% block sw_data_grid_columns_render_value %}\n  <template v-if="column.property === \'quantity\' && item.editable">\n    <sw-number-field class="quantityInp"\n      numberType="int"\n      :min="1"\n      :max="item.quantity"\n      :value="item.quantity"\n      :disabled="!item.good || item.shipping"\n      @change="onValueChange(item, $event)"></sw-number-field>\n  </template>\n  <template v-else>\n    <span class="sw-data-grid__cell-value">\n      {{ renderColumn(item, column) }}\n    </span>\n  </template>\n{% endblock %}\n',methods:{onValueChange:function(e,t){this.$emit("quantity-change",t,e)}}});n("p7ar");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==S(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Shopware.Component.override("sw-order-detail-details",{template:'{% block sw_order_detail_details_payment %}\n  {% parent %}\n  <sw-card v-if="order.extensions?.hipayOrder?.statusFlows?.length"\n    class="card-no-padding"\n    position-identifier="sw-settings-payment-detail-content"\n    :title="getTitle"\n    :is-loading="isLoading">\n    <sw-data-grid :dataSource="datasource"\n      :columns="columns"\n      :showSelection="false"\n      :showActions="false"></sw-data-grid>\n  </sw-card>\n{% endblock %}\n',inject:["hipayService"],computed:{datasource:function(){var e=this;return this.order.extensions.hipayOrder.statusFlows.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(t){return C(C({},t),{},{description:t.name?"".concat(t.name," (").concat(t.code,")"):t.code,createdAt:new Date(t.createdAt).toLocaleString(),amount:e.hipayService.getCurrencyFormater(e.order.currency.isoCode).format(t.amount)})}))},columns:function(){return[{property:"description",label:"Status"},{property:"createdAt",label:"Date"},{property:"message",label:"Message"},{property:"amount",label:"Amount"}]},getTitle:function(){return"".concat(this.$t("hipay.transaction.title")," #").concat(this.order.extensions.hipayOrder.transactionReference)}}});n("++Wo");function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}Shopware.Component.override("sw-order-detail",{template:'{% block sw_order_detail_actions_slot_smart_bar_actions %}\n  <template v-if="showOnHipayMethod">\n    <sw-button variant="contrast"\n      v-if="canCapture"\n      @click="openCapture"\n      :disabled="!acl.can(\'order.editor\')">\n      {{ $tc(\'hipay.action.capture\') }}\n    </sw-button>\n    <sw-button variant="contrast"\n      v-if="canRefund"\n      @click="openRefund"\n      :disabled="!acl.can(\'order.editor\')">\n      {{ $tc(\'hipay.action.refund\') }}\n    </sw-button>\n    <sw-button\n      :title="$tc(\'hipay.action.cancelOrderInfo\')"\n      variant="danger"\n      v-if="canCancel"\n      @click="openCancel"\n      :disabled="!acl.can(\'order.editor\')">\n      {{ $tc(\'hipay.action.cancelOrder\') }}\n    </sw-button>\n    <div class="separator" v-if="canCapture || canRefund || canCancel"></div>\n    {% parent %}\n    <sw-modal :title="$tc(\'hipay.action.capture\')"\n      v-if="showOrderCapture"\n      v-show="!showOrderStateForCapture"\n      @modal-close="closeOrderCaptureModal">\n      <sw-data-grid ref="basket"\n        :dataSource="orderBasket"\n        :columns="basketColumns"\n        :showActions="false"\n        :isRecordSelectable="isProductSelectable"\n        :showSelection="canPartialCapture"\n        @selection-change="onSelectProductForCapture"\n        @quantity-change="onQuantityChangeForCapture"\n        @hook:mounted="selectAllProducts"></sw-data-grid>\n      <br />\n      <div class="captureBtnGrp">\n        <sw-text-field :label="$tc(\'hipay.field.order_amount\')"\n          :value="formatCurrency(orderAmount)"\n          :disabled="true"></sw-text-field>\n        <sw-text-field :label="$tc(\'hipay.field.captured_amount\')"\n          :value="formatCurrency(capturedAmountInProgress)"\n          :disabled="true"></sw-text-field>\n      </div>\n      <div class="captureBtnGrp">\n        <sw-text-field :label="$tc(\'hipay.field.remaining_amount\')"\n          :value="formatCurrency(remainingCaptureAmount)"\n          :disabled="true"></sw-text-field>\n        <sw-number-field ref="captureAmount"\n          :label="$tc(\'hipay.field.capture_amount\')"\n          :min="0.01"\n          :max="remainingCaptureAmount"\n          :value="getCaptureAmount"\n          :allowEmpty="true"\n          :required="true"\n          :disabled="!canPartialCapture"\n          :isInvalid="isInvalidCaptureAmount"\n          @change="onManualCaptureAmount"\n          :placeholder="captureAmountPlaceholder ? formatCurrency(captureAmountPlaceholder) : null"></sw-number-field>\n      </div>\n      <template slot="modal-footer">\n        <sw-button @click="closeOrderCaptureModal">\n          {{ $tc(\'hipay.action.cancel\') }}\n        </sw-button>\n        <sw-button variant="primary"\n          v-if="canPartialCapture"\n          @click="captureOrder"\n          :disabled="isInvalidCaptureAmount">\n          {{ $tc(\'hipay.action.capture\') }}\n        </sw-button>\n        <sw-button variant="primary"\n          @click="fullCaptureOrder"\n          :disabled="isInvalidFullCaptureAmount">\n          {{ $tc(\'hipay.action.full_capture\') }}\n        </sw-button>\n      </template>\n    </sw-modal>\n    <sw-order-state-change-modal :order="order"\n      :isLoading="isLoadingRequest"\n      technicalName=""\n      v-if="showOrderStateForCapture"\n      @page-leave="closeOrderStateModal"\n      @page-leave-confirm="makeCapture"></sw-order-state-change-modal>\n\n    <sw-modal :title="$tc(\'hipay.action.refund\')"\n      v-if="showOrderRefund"\n      v-show="!showOrderStateForRefund"\n      @modal-close="closeOrderRefundModal">\n      <sw-data-grid ref="basket"\n        :dataSource="orderBasket"\n        :columns="basketColumns"\n        :showActions="false"\n        :isRecordSelectable="isProductSelectable"\n        :showSelection="canPartialRefund"\n        @selection-change="onSelectProductForRefund"\n        @quantity-change="onQuantityChangeForRefund"\n        @hook:mounted="selectAllProducts"></sw-data-grid>\n      <br />\n      <div class="refundBtnGrp">\n        <sw-text-field :label="$tc(\'hipay.field.captured_amount\')"\n          :value="formatCurrency(capturedAmount)"\n          :disabled="true"></sw-text-field>\n        <sw-text-field :label="$tc(\'hipay.field.refunded_amount\')"\n          :value="formatCurrency(refundedAmountInProgress)"\n          :disabled="true"></sw-text-field>\n      </div>\n      <div class="refundBtnGrp">\n        <sw-text-field :label="$tc(\'hipay.field.remaining_amount\')"\n          :value="formatCurrency(remainingRefundAmount)"\n          :disabled="true"></sw-text-field>\n        <sw-number-field ref="refundAmount"\n          :label="$tc(\'hipay.field.refund_amount\')"\n          :min="0.01"\n          :max="remainingRefundAmount"\n          :value="getRefundAmount"\n          :allowEmpty="true"\n          :required="true"\n          :isInvalid="isInvalidRefundAmount"\n          :disabled="!canPartialRefund"\n          @change="onManualRefundAmount"\n          :placeholder="refundAmountPlaceholder ? formatCurrency(refundAmountPlaceholder) : null"></sw-number-field>\n      </div>\n      <template slot="modal-footer">\n        <sw-button @click="closeOrderRefundModal">\n          {{ $tc(\'hipay.action.cancel\') }}\n        </sw-button>\n        <sw-button variant="primary"\n        v-if="canPartialRefund"\n          @click="refundOrder"\n          :disabled="isInvalidRefundAmount">\n          {{ $tc(\'hipay.action.refund\') }}\n        </sw-button>\n        <sw-button variant="primary"\n          @click="fullRefundOrder"\n          :disabled="isInvalidFullRefundAmount">\n          {{ $tc(\'hipay.action.full_refund\') }}\n        </sw-button>\n      </template>\n      <sw-order-state-change-modal :order="order"\n        :isLoading="isLoadingRequest"\n        technicalName=""\n        v-if="showOrderStateForRefund"\n        @page-leave="closeOrderStateModal"\n        @page-leave-confirm="makeRefund"></sw-order-state-change-modal>\n    </sw-modal>\n\n    <sw-order-state-change-modal :order="order"\n        :isLoading="isLoadingRequest"\n        technicalName=""\n        v-if="showOrderStateForCancel"\n        @page-leave="closeCancelModal"\n        @page-leave-confirm="makeCancel"></sw-order-state-change-modal>\n  </template>\n{% endblock %}\n{% block sw_order_detail_actions_abort %}\n  <sw-button\n    :title="$tc(\'hipay.action.resetModificationsInfo\')"\n    v-tooltip="{\n      message: $tc(\'sw-privileges.tooltip.warning\'),\n      disabled: acl.can(\'order.editor\'),\n      showOnDisabledElements: true\n      }"\n    class="sw-order-detail__smart-bar-cancel-button"\n    :disabled="isLoading || !acl.can(\'order.editor\')"\n    @click="onCancelEditing"\n    >\n      {{ $tc(\'hipay.action.resetModifications\') }}\n  </sw-button>\n{% endblock %}\n',inject:["hipayService"],data:function(){return{hipayOrderData:null,showOrderCapture:!1,showOrderRefund:!1,lastTransaction:null,lineItems:null,basketColumns:[{property:"label",label:this.$tc("hipay.basket.column.product"),multiLine:!0},{property:"quantity",label:this.$tc("hipay.basket.column.quantity")},{property:"totalPrice",label:this.$tc("hipay.basket.column.price")}],currency:null,captureAmount:null,refundAmount:null,manualCaptureAmount:null,manualRefundAmount:null,fullCapture:!0,fullRefund:!0,showOrderStateForCapture:!1,showOrderStateForRefund:!1,showOrderStateForCancel:!1,isLoadingRequest:!1}},watch:{order:function(){var e;this.currency=this.order.currency.isoCode,this.lastTransaction=this.order.transactions.last(),this.hipayOrderData=null===(e=this.order.extensions)||void 0===e?void 0:e.hipayOrder;var t=JSON.parse(JSON.stringify(this.order.lineItems));for(var n in this.order.shippingCosts.totalPrice>0&&t.push({label:this.$tc("hipay.basket.column.shipping"),quantity:1,totalPrice:this.order.shippingCosts.totalPrice,unitPrice:this.order.shippingCosts.totalPrice,shipping:!0}),t)t[n].currentQuantity=t[n].quantity;this.lineItems=t}},computed:{orderCriteria:function(){var e=this.$super("orderCriteria");return e.addAssociation("hipayOrder"),e.addAssociation("hipayOrder.captures"),e.addAssociation("hipayOrder.refunds"),e.addAssociation("hipayOrder.statusFlows"),e},showOnHipayMethod:function(){var e,t;return/hipay/.test(null===(e=this.lastTransaction)||void 0===e||null===(t=e.paymentMethod)||void 0===t?void 0:t.formattedHandlerIdentifier)},canCancel:function(){var e,t;return["authorized"].includes(null===(e=this.lastTransaction)||void 0===e||null===(t=e.stateMachineState)||void 0===t?void 0:t.technicalName)},canCapture:function(){var e,t;return["refunded_partially","paid_partially","authorized"].includes(null===(e=this.lastTransaction)||void 0===e||null===(t=e.stateMachineState)||void 0===t?void 0:t.technicalName)&&this.orderAmount>this.capturedAmountInProgress},canPartialCapture:function(){var e,t,n,a;return this.canCapture&&!1!==(null===(e=this.lastTransaction)||void 0===e||null===(t=e.paymentMethod)||void 0===t||null===(n=t.extensions)||void 0===n||null===(a=n.hipayConfig)||void 0===a?void 0:a.allowPartialCapture)},canRefund:function(){var e,t;return["paid_partially","paid","refunded_partially"].includes(null===(e=this.lastTransaction)||void 0===e||null===(t=e.stateMachineState)||void 0===t?void 0:t.technicalName)&&this.capturedAmount>this.refundedAmountInProgress},canPartialRefund:function(){var e,t,n,a;return this.canRefund&&!1!==(null===(e=this.lastTransaction)||void 0===e||null===(t=e.paymentMethod)||void 0===t||null===(n=t.extensions)||void 0===n||null===(a=n.hipayConfig)||void 0===a?void 0:a.allowPartialRefund)},orderBasket:function(){var e,t=k(this.lineItems);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.totalPrice=this.formatCurrency(n.unitPrice*n.currentQuantity),n.editable=this.canPartialCapture}}catch(e){t.e(e)}finally{t.f()}return this.lineItems},orderAmount:function(){return this.order.amountTotal},capturedAmount:function(){return this.hipayOrderData.capturedAmount},capturedAmountInProgress:function(){return this.hipayOrderData.capturedAmountInProgress},remainingCaptureAmount:function(){return Number((this.orderAmount-this.capturedAmountInProgress).toFixed(2))},refundedAmountInProgress:function(){return this.hipayOrderData.refundedAmountInProgress},remainingRefundAmount:function(){return Number((this.capturedAmount-this.refundedAmountInProgress).toFixed(2))},getCaptureAmount:function(){var e;return null!==(e=this.captureAmount)&&void 0!==e?e:this.manualCaptureAmount},getRefundAmount:function(){var e;return null!==(e=this.refundAmount)&&void 0!==e?e:this.manualRefundAmount},isInvalidFullCaptureAmount:function(){return this.remainingCaptureAmount<=0},isInvalidCaptureAmount:function(){return!this.getCaptureAmount||this.isInvalidFullCaptureAmount},isInvalidFullRefundAmount:function(){return this.remainingRefundAmount<=0},isInvalidRefundAmount:function(){return!this.getRefundAmount||this.isInvalidFullRefundAmount},captureAmountPlaceholder:function(){return this.captureAmount>this.remainingCaptureAmount?this.remainingCaptureAmount:this.captureAmount},refundAmountPlaceholder:function(){return this.refundAmount>this.remainingRefundAmount?this.remainingRefundAmount:this.refundAmount}},methods:{formatCurrency:function(e){return this.hipayService.getCurrencyFormater(this.currency).format(e)},openCapture:function(){this.showOrderCapture=!0},openRefund:function(){this.showOrderRefund=!0},openCancel:function(){this.showOrderStateForCancel=!0},closeOrderCaptureModal:function(){for(var e in this.showOrderCapture=!1,this.captureAmount=null,this.manualCaptureAmount=null,this.lineItems)this.lineItems[e].currentQuantity=this.lineItems[e].quantity},closeOrderRefundModal:function(){for(var e in this.showOrderRefund=!1,this.refundAmount=null,this.manualRefundAmount=null,this.lineItems)this.lineItems[e].currentQuantity=this.lineItems[e].quantity},closeCancelModal:function(){this.showOrderStateForCancel=!1},onSelectProductForCapture:function(e){var t=0;for(var n in e)this.$refs.basket.isSelected(e[n].id)&&(t+=e[n].unitPrice*e[n].currentQuantity);this.captureAmount=t||null},onSelectProductForRefund:function(e){var t=0;for(var n in e)this.$refs.basket.isSelected(e[n].id)&&(t+=e[n].unitPrice*e[n].currentQuantity);this.refundAmount=t||null},selectAllProducts:function(){this.$refs.basket.selectAll(!0)},isProductSelectable:function(e){return e.good||e.shipping},onManualCaptureAmount:function(e){this.manualCaptureAmount=e},onManualRefundAmount:function(e){this.manualRefundAmount=e},onQuantityChangeForCapture:function(e,t){var n=this.lineItems.findIndex((function(e){return e.id===t.id}));n>=0&&(this.lineItems[n].currentQuantity=e),this.onSelectProductForCapture(this.lineItems)},onQuantityChangeForRefund:function(e,t){var n=this.lineItems.findIndex((function(e){return e.id===t.id}));n>=0&&(this.lineItems[n].currentQuantity=e),this.onSelectProductForRefund(this.lineItems)},captureOrder:function(){this.$refs.captureAmount.currentValue!==this.remainingCaptureAmount&&(this.fullCapture=!1),this.showOrderStateForCapture=!0},fullCaptureOrder:function(){this.showOrderStateForCapture=!0},refundOrder:function(){this.$refs.refundAmount.currentValue!==this.remainingRefundAmount&&(this.fullRefund=!1),this.showOrderStateForRefund=!0},fullRefundOrder:function(){this.showOrderStateForRefund=!0},closeOrderStateModal:function(){this.showOrderStateForCapture=!1,this.showOrderStateForRefund=!1},makeCancel:function(){var e=this;this.isLoadingRequest=!0,this.hipayService.cancelTransaction(this.hipayOrderData).then((function(t){if(!t.success)throw new Error(t.message);e.createNotificationSuccess({title:e.$tc("hipay.notification.cancel.title"),message:e.$tc("hipay.notification.cancel.success")}),e.showOrderStateForCancel=!1})).catch((function(){e.createNotificationError({title:e.$tc("hipay.notification.capture.title"),message:e.$tc("hipay.notification.capture.failure")})})).finally((function(){return e.isLoadingRequest=!1}))},makeCapture:function(){var e,t=this;this.isLoadingRequest=!0,this.hipayService.captureTransaction(this.hipayOrderData,this.fullCapture?this.remainingCaptureAmount:null!==(e=this.$refs.captureAmount.currentValue)&&void 0!==e?e:this.captureAmountPlaceholder).then((function(e){if(!e.success)throw new Error(e.message);t.onSaveEdits(),t.createNotificationSuccess({title:t.$tc("hipay.notification.capture.title"),message:t.$tc("hipay.notification.capture.success")}),t.showOrderStateForCapture=!1,t.$nextTick((function(){t.showOrderCapture=!1}))})).catch((function(){t.createNotificationError({title:t.$tc("hipay.notification.capture.title"),message:t.$tc("hipay.notification.capture.failure")})})).finally((function(){return t.isLoadingRequest=!1}))},makeRefund:function(){var e,t=this;this.isLoadingRequest=!0,this.hipayService.refundTransaction(this.hipayOrderData,this.fullRefund?this.remainingRefundAmount:null!==(e=this.$refs.refundAmount.currentValue)&&void 0!==e?e:this.refundAmountPlaceholder).then((function(e){if(!e.success)throw new Error(e.message);t.onSaveEdits(),t.createNotificationSuccess({title:t.$tc("hipay.notification.refund.title"),message:t.$tc("hipay.notification.refund.success")}),t.showOrderStateForRefund=!1,t.$nextTick((function(){t.showOrderRefund=!1}))})).catch((function(){t.createNotificationError({title:t.$tc("hipay.notification.refund.title"),message:t.$tc("hipay.notification.refund.failure")})})).finally((function(){return t.isLoadingRequest=!1}))}}});Shopware.Component.override("sw-settings-payment-detail",{template:'{% block sw_settings_payment_detail_content_card %}\n  {% parent %}\n  <template v-if="paymentMethod.formattedHandlerIdentifier == \'handler_hipay_applepay\'">\n    <hipay-settings-applepay :is-loading="isLoading"\n      :paymentMethod="paymentMethod">\n    </hipay-settings-applepay>\n  </template>\n  <template v-if="paymentMethod.formattedHandlerIdentifier == \'handler_hipay_creditcard\'">\n    <hipay-settings-cards-selector :is-loading="isLoading"\n      :paymentMethod="paymentMethod"></hipay-settings-cards-selector>\n  </template>\n  <template v-if="paymentMethod.formattedHandlerIdentifier == \'handler_hipay_multibanco\'">\n    <hipay-settings-multibanco :is-loading="isLoading"\n      :paymentMethod="paymentMethod"></hipay-settings-multibanco>\n  </template>\n  <template v-if="paymentMethod.formattedHandlerIdentifier == \'handler_hipay_paypal\'">\n    <hipay-settings-paypal :is-loading="isLoading"\n      :paymentMethod="paymentMethod"></hipay-settings-paypal>\n  </template>\n{% endblock %}\n'});Shopware.Component.override("sw-order-state-history-card",{template:' {% block sw_order_state_history_card_transaction %}\n    <template v-if="isHipayPayment">\n        <sw-order-state-card-entry\n            v-if="transaction"\n            class="sw-order-state-history-card__payment-state"\n            :disabled="true"\n            :history="transactionHistory"\n            :transition-options="transactionOptions"\n            state-machine-name="order_transaction.state"\n            :title="$tc(\'sw-order.stateCard.headlineTransactionState\')"\n            @state-select="onTransactionStateSelected"\n        />\n    </template>\n    <template v-else>{% parent %}</template>\n{% endblock %}',computed:{isHipayPayment:function(){return this.transaction.paymentMethod.formattedHandlerIdentifier.startsWith("handler_hipay")}}});var $=n("MOs4"),F=n("u0Ml");Shopware.Locale.extend("en-GB",$),Shopware.Locale.extend("de-DE",F)},"8Wr2":function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==n(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===n(o)?o:String(o)),i)}var r,o}function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=Shopware,c=u.Application,d=u.Classes.ApiService,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(u,e);var t,n,s,l=o(u);function u(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hipay";return a(this,u),(n=l.call(this,e,t,i)).headers=n.getBasicHeaders({}),n}return t=u,(n=[{key:"getCurrencyFormater",value:function(e){return new Intl.NumberFormat(localStorage.getItem("sw-admin-locale"),{style:"currency",currency:e})}},{key:"getLogsArrayBuffer",value:function(){var e=this.getBasicHeaders({});return this.httpClient({headers:e,method:"get",url:"/_action/".concat(this.getApiBasePath(),"/get-logs"),responseType:"arraybuffer"})}},{key:"validateConfig",value:function(e){var t=this.getBasicHeaders({});return this.httpClient.post("/_action/".concat(this.getApiBasePath(),"/checkAccess"),e,{headers:t}).then((function(e){return d.handleResponse(e)}))}},{key:"cancelTransaction",value:function(e){var t=this.getBasicHeaders({});return this.httpClient.post("/_action/".concat(this.getApiBasePath(),"/cancel"),{hipayOrder:JSON.stringify(e)},{headers:t}).then((function(e){return d.handleResponse(e)}))}},{key:"captureTransaction",value:function(e,t){var n=this.getBasicHeaders({});return this.httpClient.post("/_action/".concat(this.getApiBasePath(),"/capture"),{hipayOrder:JSON.stringify(e),amount:t},{headers:n}).then((function(e){return d.handleResponse(e)}))}},{key:"refundTransaction",value:function(e,t){var n=this.getBasicHeaders({});return this.httpClient.post("/_action/".concat(this.getApiBasePath(),"/refund"),{hipayOrder:JSON.stringify(e),amount:t},{headers:n}).then((function(e){return d.handleResponse(e)}))}}])&&i(t.prototype,n),s&&i(t,s),Object.defineProperty(t,"prototype",{writable:!1}),u}(d);c.addServiceProvider("hipayService",(function(e){var t=c.getContainer("init");return new p(t.httpClient,e.loginService)}))},"9JGv":function(e,t,n){},AknG:function(e){e.exports=JSON.parse('{"name":"hipay/hipay-enterprise-shopware-6","description":"HiPay enterprise plugin for Shopware 6","license":"Apache-2.0","version":"2.1.0","authors":[{"email":"support.tpp@hipay.com","homepage":"https://www.hipay.com","name":"HiPay"}],"keywords":["HiPay","payment","php","shopware"],"type":"shopware-platform-plugin","extra":{"shopware-plugin-class":"HiPay\\\\Payment\\\\HiPayPaymentPlugin","plugin-icon":"src/Resources/config/hipay.png","author":"HiPay","label":{"en-GB":"HiPay Payment","de-DE":"HiPay Payment"},"description":{"en-GB":"Hipay enterprise module for Shopware","de-DE":"Hipay Enterprise-Modul für Shopware"},"manufacturerLink":{"en-GB":"#","de-DE":"#"},"supportLink":{"en-GB":"#","de-DE":"#"}},"autoload":{"psr-4":{"HiPay\\\\Payment\\\\":"src/"}},"autoload-dev":{"psr-4":{"HiPay\\\\Payment\\\\Tests\\\\":"tests/"}},"require":{"hipay/hipay-fullservice-sdk-php":"^2.14.1","giggsey/libphonenumber-for-php":"^8.13"},"require-dev":{"shopware/core":"6.5.*","shopware/storefront":"6.5.*","phpunit/php-code-coverage":"~9.2.14","phpunit/phpunit":"~9.5.17","symfony/phpunit-bridge":"~4.4 || ~5.2.3 || ~5.3.0 || ~5.4.0","infection/infection":"^0.26.6","phpstan/phpstan":"^1.8","friendsofphp/php-cs-fixer":"*"},"archive":{"exclude":["/bin","./\\\\.*","docker-compose.yaml","shopware.sh"]},"config":{"allow-plugins":{"infection/extension-installer":true,"symfony/runtime":true}}}')},MOs4:function(e){e.exports=JSON.parse('{"hipay":{"config":{"days":"days","help":{"manual":"Online manual","github":"Report Errors on github","version":"Version number"},"checkAccess":{"title":"HiPay Configuration","success":"Test API credentials: The HiPay API credentials are valid.","failure":"Test API credentials: The HiPay API credentials are not valid.","button":"Test API credentials"},"title":{"privateKey":"Private credentials","publicKey":"Public credentials","notification":"Notification settings"},"capture-help":"<b>Automatic</b>: All transactions will be automatically captured.<br/><b>Manual</b>: All transactions will be captured manually in your HiPay or Shopware back office.","operation-help":"<b>Hosted page</b>: The customer is redirected to a secure payment page hosted by HiPay.<br/><b>Hosted fields</b>: The customer will fill in their banking information directly on the merchant\'s website but the form fields will be hosted by HiPay. This mode is only valid for credit cards","info":"To inform you about events related to your payment system, e.g. about a new transaction or a 3-D Secure transaction, the HiPay Enterprise platform can send your application a server-to-server notification. Login to Hipay Back Office, go to Integration > Security Settings module and get your HiPay merchant account passphrase.","authenticationIndicator":"<b>3-D Secure authentication mandatory :</b><br/>An authentication is required to proceed (This authentication can either be a 3DSv2 Challenge flow or a 3DSv2 frictionless flow, without any user input required). If the authentication fails, the transaction will be refused and the client will not be charged.<br/><br/><b>3-D Secure authentication if available :</b><br/>If the Payment Method allows it, an authentication process is requested. However, if the authentication fails, the transaction will <b>not</b> be refused (<b>only for rest of the world transactions</b>, as transactions made inside the EURO zone are subject to PSD2 and <b>must</b> be authenticated).e. If required by the bank, the customer completes an additional authentication step for the charge to succeed.","logs":{"title":"Downloading logs","download":"Download logs","failure":"Fail to download logs"}},"action":{"cancel":"Cancel","cancelOrder":"Cancel order","resetModifications":"Reset","resetModificationsInfo":"Reset Form Modifications","cancelOrderInfo":"Cancel HiPay Transaction","capture":"Capture","refund":"Refund","full_capture":"Full Capture","full_refund":"Full Refund"},"basket":{"column":{"product":"Product","quantity":"Quantity","price":"Price","shipping":"Shipping costs"}},"field":{"capture_amount":"Capture amount","remaining_amount":"Remaining amount","order_amount":"Order amount","captured_amount":"Captured amount","refund_amount":"Refund amount","refunded_amount":"Refunded amount"},"notification":{"capture":{"title":"Transaction capture","success":"Transaction successfully captured","failure":"Error during transaction capture"},"refund":{"title":"Transaction refund","success":"Transaction successfully refunded","failure":"Error during transaction refund"},"cancel":{"title":"Cancel transaction","success":"Transaction canceled successfully","failure":"Error cancelling transaction"}},"transaction":{"title":"HiPay transaction lifecycle"},"settings":{"applepay":{"title":"Configuration","merchantName":"Merchant name","merchantId":"Merchant ID","buttonType":{"title":"Button type","default":"Default","buy":"Buy","setup":"Set-up","donate":"Donate","checkout":"Check-out","processing":"Processing","book":"Book","subscribe":"Subscribe"},"buttonStyle":{"title":"Button style","black":"Black","white":"White","whiteOutline":"White outline"}},"multibanco":{"title":"Payment expiration limit"},"creditcard":{"title":"Credit cards available","choice":"Select credit card"},"paypal":{"title":"Configuration PayPal v2","merchantPayPalId":"Merchant PayPal ID","info":"It is necessary to indicate a Merchant Paypal ID in order to be able to use PayPal v2 and to customize the button.","color":{"title":"Button color","gold":"Gold","blue":"Blue","black":"Black","silver":"Silver","white":"White"},"shape":{"title":"Button shape","pill":"Rounded","rect":"Rectangle"},"label":{"title":"Button label","paypal":"PayPal","pay":"Pay","subscribe":"Subscribe","checkout":"Checkout","buynow":"Buy Now"},"height":{"title":"Button height"}}}}}')},P8hj:function(e,t,n){"use strict";function a(e,t){for(var n=[],a={},i=0;i<t.length;i++){var r=t[i],o=r[0],s={id:e+":"+i,css:r[1],media:r[2],sourceMap:r[3]};a[o]?a[o].parts.push(s):n.push(a[o]={id:o,parts:[s]})}return n}n.r(t),n.d(t,"default",(function(){return f}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},o=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,u=!1,c=function(){},d=null,p="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,n,i){u=n,d=i||{};var o=a(e,t);return m(o),function(t){for(var n=[],i=0;i<o.length;i++){var s=o[i];(l=r[s.id]).refs--,n.push(l)}t?m(o=a(e,t)):o=[];for(i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete r[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],a=r[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(b(n.parts[i]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var o=[];for(i=0;i<n.parts.length;i++)o.push(b(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:o}}}}function y(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function b(e){var t,n,a=document.querySelector("style["+p+'~="'+e.id+'"]');if(a){if(u)return c;a.parentNode.removeChild(a)}if(h){var i=l++;a=s||(s=y()),t=w.bind(null,a,i,!1),n=w.bind(null,a,i,!0)}else a=y(),t=P.bind(null,a),n=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else n()}}var g,v=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function w(e,t,n,a){var i=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var r=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function P(e,t){var n=t.css,a=t.media,i=t.sourceMap;if(a&&e.setAttribute("media",a),d.ssrId&&e.setAttribute(p,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},TpBo:function(e,t,n){var a=n("UJqE");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("P8hj").default)("c738bc3a",a,!0,{})},UJqE:function(e,t,n){},WGZE:function(e,t,n){},e4x0:function(e,t,n){},e9A5:function(e,t,n){var a=n("WGZE");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("P8hj").default)("7ebdce3b",a,!0,{})},p7ar:function(e,t,n){var a=n("9JGv");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("P8hj").default)("6f4d97b2",a,!0,{})},u0Ml:function(e){e.exports=JSON.parse('{"hipay":{"config":{"days":"Tage","help":{"manual":"Online-Handbuch","github":"Meldung eines Fehler auf GitHub","version":"Versionsnummer"},"checkAccess":{"title":"HiPay Configuration","success":"API-Anmeldeinformationen testen: Die API-Anmeldeinformationen von HiPay sind gültig.","failure":"Test API Credentials : Die API Credentials von HiPay sind nicht gültig.","button":"API-Anmeldedaten testen"},"capture-help":"<b>Automatich</b>: Alle Transaktionen werden automatisch erfasst.<br/><b>Manual</b>: Alle Transaktionen werden manuell in Ihrem HiPay- oder PrestaShop-Backoffice erfasst.","operation-help":"<b>Hostet Page</b>: Der Kunde wird zu einer sicheren, von HiPay gehosteten Zahlungsseite weitergeleitet. <b>Hosted Fields</b>: Der Kunde gibt seine Bankdaten direkt auf der Website des Händlers ein, die Felder des Formulars werden jedoch von HiPay gehostet. Dieser Modus ist nur für Kreditkarten gültig.","title":{"privateKey":"Private Anmeldedaten","publicKey":"Öffentliche Anmeldedaten","notification":"Einstellungen für Benachrichtigungen"},"info":"Um Sie über Ereignisse im Zusammenhang mit Ihrem Zahlungssystem zu informieren, z. B. über eine neue Transaktion oder eine 3-D Secure-Transaktion, kann die HiPay Plattform Ihrer Anwendung eine Server-to-Server-Benachrichtigung senden. Loggen Sie sich bei HiPay Console ein, wählen Sie einen Account und klicken Sie Integration > Sicherheitseinstellungen um die geheime Passphrase abzurufen.","authenticationIndicator":"<b>3-D Secure-Authentifizierung obligatorisch :</b><br/>Zum Fortfahren ist eine Authentifizierung erforderlich (diese Authentifizierung kann entweder ein 3DSv2-Challenge-Flow oder ein reibungsloser 3DSv2-Flow sein, ohne dass eine Benutzereingabe erforderlich ist). Schlägt die Authentifizierung fehl, wird die Transaktion abgelehnt und der Kunde wird nicht belastet.<br/><br/><b>3-D Secure-Authentifizierung, falls verfügbar :</b><br/>Wenn die Zahlungsmethode dies zulässt, wird ein Authentifizierungsprozess angefordert. Wenn die Authentifizierung jedoch fehlschlägt, wird die Transaktion <b>nicht</b> abgelehnt (<b>nur für den Rest der Welt</b>, da Transaktionen innerhalb der EURO-Zone PSD2 unterliegen und authentifiziert werden <b>müssen</b>).e. Falls von der Bank verlangt, führt der Kunde einen zusätzlichen Authentifizierungsschritt durch, damit die Belastung erfolgreich ist.","logs":{"title":"Logs Herunterladen","download":"Logs herunterladen","failure":"Herunterladen von Dateien fehlgeschlagen"}},"action":{"cancel":"Absagen","cancelOrder":"Bestellung stornieren","resetModifications":"Zurücksetzen","resetModificationsInfo":"Änderungen des Formulars zurücksetzen","cancelOrderInfo":"HiPay-Transaktion abbrechen","capture":"Erfassung","refund":"Erstattung","full_capture":"Vollständige Erfassung","full_refund":"Vollständige Erstattung"},"basket":{"column":{"product":"Produkt","quantity":"Menge","price":"Preis","shipping":"Versandkosten"}},"field":{"capture_amount":"Erfassungsbetrag","remaining_amount":"Restbetrag","order_amount":"Bestellbetrag","captured_amount":"Erfasster Betrag","refund_amount":"Rückerstattungsbetrag","refunded_amount":"Erstatteter Betrag"},"notification":{"capture":{"title":"Transaktionserfassung","success":"Transaktion erfolgreich erfasst","failure":"Fehler bei der Transaktionserfassung"},"refund":{"title":"Transaktionsrückerstattung","success":"Transaktion erfolgreich zurückerstattet","failure":"Fehler bei der Transaktionsrückerstattung"},"cancel":{"title":"Transaktion abbrechen","success":"Transaktion erfolgreich abgebrochen","failure":"Fehler beim Abbrechen der Transaktion"}},"transaction":{"title":"HiPay-Transaktionslebenszyklus"},"settings":{"applepay":{"title":"Konfiguration","merchantName":"Händlername","merchantId":"Händler-ID","buttonType":{"title":"Schaltflächentyp","default":"Standard","buy":"Kaufen","setup":"Einrichten","donate":"Spenden","checkout":"Auschecken","processing":"Verarbeitung","book":"Buchen","subscribe":"Abonnieren"},"buttonStyle":{"title":"Schaltflächenstil","black":"Schwarz","white":"Weiß","whiteOutline":"Weißer Umriss"}},"multibanco":{"title":"Zahlungsablauflimit"},"creditcard":{"title":"Kreditkarten verfügbar","choice":"Kreditkarte auswählen"}}}}')},vcqm:function(e,t){Shopware.Component.register("hipay-html-bloc",{template:'<div v-html="html()"></div>',methods:{html:function(){var e=this.$attrs.name.slice(this.$attrs.name.lastIndexOf(".")+1);return"<"+e+">"+this.$tc(this.$parent.bind.value)+"</"+e+">"}}})}});
//# sourceMappingURL=hi-pay-payment-plugin.js.map
